#
# Patches that went in to qemu-xen upstream
#
#qemu-6bbff9a0b495918309074ac60375be5f9dc868b3 # Refactor aio callback allocation to use an aiocb pool (Avi Kivity)
#qemu-c07a9008ac6985cd5a15909c2b9977d982defc12 # Convert vectored aio emulation to use a dedicated pool (Avi Kivity)
#qemu-6512a2a7106480c19183d6466a6845bc9bdf6ec0 # Implement cancellation method for dma async I/O (Avi Kivity)
#qemu-3fb94d56c6adc96ffc4a81b58c752cc4ccfae39c # Use vectored aiocb storage to store vector translation state (Avi Kivity)
#qemu-37b7842c2fb405c270efdce714425c17af3c78cd # Move block dma helpers aiocb to store dma state (Avi Kivity)
#qemu-c240b9af599d20e06a58090366be682684bd8555 # Fix vectored aio bounce handling immediate errors (Avi Kivity)
#qemu-7403b14eeb4670d54497284b110ca3e3be4a99a4 # Fix DMA API when handling an immediate error from block layer (Avi Kivity)
#qemu-081501daceca74d2091e798d5dcd342c14d66d1a # check for bs->drv in bdrv_flush (Christoph Hellwig)
#qemu-fbb7b4e0804d2168f24142eebf7552adde1968dc # Improve block range checks
#qemu-6a7ad2998ca47711eddd191caa1a95f14459793f # Call qemu_bh_delete at bdrv_aio_bh_cb.
#qemu-36afc451599175eb8f03f1962de74e7f7a8af4db # block: Clean up after deleting BHs
#intel-sriov-hack
#no-pxe-roms
#logdirty-compatibility

revert-f95d202ed6444dacb15fbea4dee185eb0e048d9a.patch
revert-additional-changes.patch
revert-7440-f37b6dee9f16.patch

#
# patches from qemu upstream
#
qemu-753b4053311ff1437d99726970b1e7e6bf38249b.patch # Support multiple VNC clients, pull vnc.c + compatibility fixes
qemu-6baebed7698a37a0ac5168faf26023426b0ac940.patch # vnc: cleanup surface handling, fix screen corruption bug. (Gerd Hoffmann)
qemu-c522d0e2dee3774884a731691a702126901a1a88.patch # vnc: throttle screen updates. (Gerd Hoffmann)
qemu-3cded5400925452fcd1adca9109a5d30a92b4dac.patch # vnc: Fix incorrect attempt to clear a flag
qemu-0fc8e0ec7f42fb79763b875edea2f50c0691c1f4.patch # vnc: windup keypad keys for qemu console emulation
qemu-bee1b01083b6adcf580fa30e65a2e59e7231af31.patch # vnc: fix segfault
qemu-89ee676eadde78677addb74ef8f356757f6f6c0a.patch # vnc: fix server surface pixel format.
qemu-24cf0a6e36402f3bbab1d7317de6c4d511c832e1.patch # vnc: no need to set force_update for incremental update requests.
qemu-afd3216027e3b28b0e180ac99d87e981d169b91c.patch # vnc: Fix memory allocation (wrong structure size).
qemu-198a0039c5fca224a77e9761e2350dd9cc102ad0.patch # vnc: rework VncState release workflow.
qemu-f22f5b077c164b864dae9776f63ed9e48a973fb6.patch # vga: fix shadow GR regression
qemu-babd03fde68093482528010a5435c14ce9128e3f.patch # usb-linux.c: fix buffer overflow

vnc_copyrect.patch # where does this come from?
vnc_timer.patch
vnc_single_server_surf.patch
vnc_dynamic_timer.patch
vnc_update_policy.patch # where does this come from?
vnc_refresh_vnc_disconnect.patch # not fixed this way upstream
qemu-5d95ac5b6475c3b6b0e36b5f04de49bba88b3e59.patch # vnc: fix use after free
qemu-83755c173f4608764e3ee92428247d1c5e962e6a.patch # vnc_refresh: return if vd->timer is NULL

#
# to go upstream
#

fix_savevm_v1_compatibility.patch
savevm_george_compatibility.patch
sanify-usb-controller-setup.patch
usb-uhci-set-subsystem-id.patch
fix_cirrus_updates.patch
extra_safe_cirrus_updates.patch
monitor_on_xenstore.patch
qemu-sdl-zoom.patch
cdrom_insert_open_flags.patch
fix_rtl_saverestore.patch
vga-clear-fb-on-switch-to-graphic.patch
cirrus-fix-windows-raster-ops.patch # patches vga-clear-fb-on-switch-to-graphic.patch
unplug-version-2.patch
CA-55725-retry-after-listen-fail.patch
CP-3235.patch
product-nr-3-blacklist.patch
product-nr-4-blacklist.patch
product-nr-1-blacklist.patch

#
# Build system
#

disable-blktap.patch
build-makefiles.patch
no_install-s.patch
# Change the buildrequires line of the spec file to allow building with mock

#
# Compatible with upstream but not worth the effort of upstreaming
#

qemu-3.4-fdc.patch
hvm-late-unpause.patch
crashdump-to-qemu.patch
xen-platform-scsi-controller.patch
xenstore_set_device_locked.patch
close-and-flush-disconnected-emulated-devices.patch
qemu-logconsole-to-file.patch
qemu-sdl-nograb.patch
qemu-dont-probe-disk-format.patch
qemu-force-lba-geometry.patch
qemu-fix-tap-open-race-CA-8496.patch
CA-8472.patch
qemu-sdl-hide-pointer-when-not-in-focus.patch
CA-10912-silence-parallel-msg.patch
qemu-enforce-read-only-CA-12833.patch
qemu-sdl-geometry.patch
acpi-wake-timer.patch
piix4acpi-pm-compat.patch
qemu-keymap.patch
vnc_clipboard.patch
vnclisten.patch
vnc-port.patch
vnc_scan_code.patch
vnc_xencenter_no_copyrect.patch
large_resolution.patch


#
# Product specific
#
disable-qemu-ifup.patch
enable_cirrus_irq.patch
xenstore-exit-on-domain-destruction.patch # does not work with stubdom
set_timeoffset.patch
qemu-use-backdev.patch

#
# Product specific, incompatible with Open Source
#

hvm-multicore.patch
#savevm-to-tmp
#marathon
depriv_qemu.patch
move-disable-pf-key.patch
CA-41014-cannot-start-100th-VM.patch
#
## Disable firmware config (fw_cfg) port
CA-32196-disable-fw-cfg.patch
abort-on-bad-loadvm.patch
savevm_dummy_handler_for_pcislots.patch
retry_receivefd_on_EINTR.patch
fix-vnc-overflow.patch
fix_term_handling_if_paused.patch # upstream does not present same problem
vnc_checks.patch

CA-86932-disable-console-for-parallel-port.patch
CA-87350-fix-qemu-crash-on-snapshot.patch
constant_devfn_for_nic.patch
evtchn_io_old_xen.patch
evtchn_compat_define.patch
less_xs_connection.patch
CP-5035-gulliverize-qemu.patch

XOP-403-usb-blue-fix.patch
